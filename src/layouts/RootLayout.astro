---
import { ClientRouter } from "astro:transitions";
import { Header } from "@components/Layout";
import HeadMeta from "@components/Commons/HeadMeta.astro";
import "../styles/global.css";
import { getLangFromUrl } from "../i18n/utils";
import FooterLayer from "@components/Layout/Footer/FooterLayer";
import GlobalBackground from "@components/Commons/GlobalBackground";

const lang = getLangFromUrl(Astro.url);
// props
interface Props {
  title?: string;
  enableHeader?: boolean;
  enableFooter?: boolean;
}
const {
  title,
  enableHeader = false,
  enableFooter = false,
} = Astro.props as Props;
---

<html lang={lang}>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <HeadMeta title={title} />
  </head>
  <body>
    <GlobalBackground client:load />
    {enableHeader && <Header lang={lang} client:load />}
    <main class="h-[1000px] w-full">
      {title && <h1 class="sr-only">{title}</h1>}
      <slot />
      <FooterLayer lang={lang} />
    </main>
    <!-- your content is injected here -->
  </body>
</html>
<style is:global>
  @keyframes bump {
    0% {
      opacity: 0;
      transform: scale(1) translateX(200px);
    }
    50% {
      opacity: 0.5;
      transform: scale(1.1);
    }
    100% {
      opacity: 1;
      transform: scale(1) translateX(0);
    }
  }
</style>
